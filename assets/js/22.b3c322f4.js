(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{224:function(n,t,e){"use strict";e.r(t);var a=e(0),r=Object(a.a)({},(function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[e("blockquote",[e("p",[n._v("该专栏内容与 "),e("a",{attrs:{href:"https://github.com/GourdErwa/review-notes/tree/master/framework/flink-basis",target:"_blank",rel:"noopener noreferrer"}},[n._v("flink-basis"),e("OutboundLink")],1),n._v(" 同步，源码与 "),e("a",{attrs:{href:"https://github.com/GourdErwa/flink-advanced",target:"_blank",rel:"noopener noreferrer"}},[n._v("flink-advanced"),e("OutboundLink")],1),n._v(" 同步。")])]),n._v(" "),e("h1",{attrs:{id:"environment-概览"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#environment-概览"}},[n._v("#")]),n._v(" Environment 概览")]),n._v(" "),e("p",[n._v("该文档主要说明 Flink 作业执行时环境概念，根据不同作业情况选择不同的 "),e("code",[n._v("Environment")]),n._v("。"),e("br"),n._v("\n大多数API提供了静态方法创建对应 "),e("code",[n._v("Environment")]),n._v("，示例如下：")]),n._v(" "),e("div",{staticClass:"language-scala extra-class"},[e("pre",{pre:!0,attrs:{class:"language-scala"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("val")]),n._v(" bEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v(":")]),n._v(" ExecutionEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" ExecutionEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("getExecutionEnvironment\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("val")]),n._v(" btEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v(":")]),n._v(" BatchTableEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" BatchTableEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("create"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("bEnv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\n\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("val")]),n._v(" sEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v(":")]),n._v(" StreamExecutionEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" StreamExecutionEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("getExecutionEnvironment\n"),e("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("val")]),n._v(" stEnv"),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v(":")]),n._v(" StreamTableEnvironment "),e("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" StreamTableEnvironment"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("create"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("sEnv"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\n")])])]),e("h2",{attrs:{id:"批处理（batch）-executionenvironment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#批处理（batch）-executionenvironment"}},[n._v("#")]),n._v(" 批处理（batch）-ExecutionEnvironment")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://blog-review-notes.oss-cn-beijing.aliyuncs.com/framework/flink-basis/_images/ExecutionEnvironment_uml.png",alt:"ExecutionEnvironment_uml"}})]),n._v(" "),e("ul",[e("li",[e("code",[n._v("LocalEnvironment")]),n._v(" 本地模式执行")]),n._v(" "),e("li",[e("code",[n._v("RemoteEnvironment")]),n._v(" 提交到远程集群执行")]),n._v(" "),e("li",[e("code",[n._v("CollectionEnvironment")]),n._v(" 集合数据集模式执行")]),n._v(" "),e("li",[e("code",[n._v("OptimizerPlanEnvironment")]),n._v(" 不执行作业，仅创建优化的计划")]),n._v(" "),e("li",[e("code",[n._v("PreviewPlanEnvironment")]),n._v(" 提取预先优化的执行计划")]),n._v(" "),e("li",[e("code",[n._v("ContextEnvironment")]),n._v(" 用于在客户端上远程执行.\n"),e("ul",[e("li",[e("code",[n._v("DetachedEnvironment")]),n._v(" 用于在客户端上以分离模式进行远程执行")])])])]),n._v(" "),e("h2",{attrs:{id:"流处理（streaming）-streamexecutionenvironment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#流处理（streaming）-streamexecutionenvironment"}},[n._v("#")]),n._v(" 流处理（streaming）-StreamExecutionEnvironment")]),n._v(" "),e("p",[e("img",{attrs:{src:"https://blog-review-notes.oss-cn-beijing.aliyuncs.com/framework/flink-basis/_images/StreamExecutionEnvironment_uml.png",alt:"StreamExecutionEnvironment_uml"}})]),n._v(" "),e("ul",[e("li",[e("code",[n._v("LocalStreamEnvironment")]),n._v(" 本地模式执行")]),n._v(" "),e("li",[e("code",[n._v("RemoteStreamEnvironment")]),n._v(" 提交到远程集群执行")]),n._v(" "),e("li",[e("code",[n._v("StreamContextEnvironment")])]),n._v(" "),e("li",[e("code",[n._v("StreamPlanEnvironment")])])]),n._v(" "),e("h2",{attrs:{id:"table-模式处理-tableenvironment"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#table-模式处理-tableenvironment"}},[n._v("#")]),n._v(" Table 模式处理-TableEnvironment")]),n._v(" "),e("p",[e("code",[n._v("TableEnvironment")]),n._v(" 是创建 Table&SQL 的接口类，用于处理有界与无界数据。"),e("br"),n._v("\n主要职责：")]),n._v(" "),e("ul",[e("li",[e("p",[n._v("连接外部系统数据源")])]),n._v(" "),e("li",[e("p",[n._v("注册和检索 Table 及从 catalog获取其他元对象信息")])]),n._v(" "),e("li",[e("p",[n._v("执行 SQL 语句")])]),n._v(" "),e("li",[e("p",[n._v("提供配置信息")])]),n._v(" "),e("li",[e("p",[e("img",{attrs:{src:"https://blog-review-notes.oss-cn-beijing.aliyuncs.com/framework/flink-basis/_images/TableEnvironment_uml.png",alt:"TableEnvironment_uml"}})])]),n._v(" "),e("li",[e("p",[e("code",[n._v("BatchTableEnvironment")]),n._v(" Batch 处理模式的 Table ，主要处理 DataSet 与 Table 之间操作")])]),n._v(" "),e("li",[e("p",[e("code",[n._v("StreamTableEnvironment")]),n._v(" streaming 处理模式的 Table ， 主要处理 DataStream 与 Table 之间操作")])])])])}),[],!1,null,null,null);t.default=r.exports}}]);